# Financial management app

## Описание
Консольное приложение для управления личными финансами.  
Позволяет создавать пользователей, вести доходы и расходы, устанавливать бюджеты на категории и получать статистику.

---

## Технологии
- Java 20
- Maven
- Gson (для сохранения данных в JSON)

---

## Сборка и запуск

Если хотите просто использовать готовый JAR, перейдите сразу к шагу `Запуск проекта`.
Если вы хотите собрать проект самостоятельно или получить JAR для запуска, выполните следующие шаги.

Скопируйте весь проект, и в корневой папке проекта выполните:
```bash
mvn clean package
```
Если [maven не установлен](
https://maven.apache.org/install.html)

После успешной сборки JAR-файл с зависимостями будет создан в папке [target/](https://github.com/Code-runner101/short_links_proj/tree/main/target)  
`fin_control_app-1.0-SNAPSHOT.jar`

### Запуск проекта

1. Вы скопировали весь проект.  
   При нахождении в папке с проектом введите в терминале и выполните:
```bash
java -jar target/fin_control_app-1.0-SNAPSHOT.jar
```

2. Вы скопировали готовый `fin_control_app-1.0-SNAPSHOT.jar` из [target/](https://github.com/Code-runner101/short_links_proj/tree/main/target) репозитория.  
   Положите его в отдельную папку.
   В терминале перейдите в папку с JAR и выполните:
```bash
java -jar fin_control_app-1.0-SNAPSHOT.jar
```
Отдельная папка нужна, потому что в процессе работы программы создаются:
- `users.json` — данные о пользователях
- `<login>.json` — снимок состояния кошелька пользователя

---

## CLI Команды

### Пользователь и категории
```
register                                 — регистрация нового пользователя
login                                    — вход в систему
add-category <название> <income|expense> — создание категории прибыли/расхода
list-categories                          — показать все категории
rename-category <старое> <новое>         — переименование категории
remove-category <название>               — удаление категории (если нет операций)
```

### Доходы и расходы
```
add-income <категория> <сумма>    — добавить доход
add-expense <категория> <сумма>   — добавить расход (только если бюджет > 0)
set-budget <категория> <сумма>    — установить бюджет (только для расходов)
```

### Статистика и помощь
```
stats    — показать доходы, расходы и бюджеты в таблице
help     — показать справку
exit     — выйти из приложения с сохранением данных
```

---

## Примеры использования

```
> register
login: aaa
password: 123

> add-category salary income
> add-category food expense
> set-budget food 4000
> add-income salary 50000
> add-expense food 1200
> stats
```

Вывод:

```
=== СТАТИСТИКА ===
Общий доход: 50000.00
Доходы по категориям:
Категория       Сумма
-------------------------
salary          50000.00

Общие расходы: 1200.00
Расходы и бюджеты:
Категория       Бюджет      Потрачено   Остаток
-----------------------------------------------
food            4000.00     1200.00     2800.00
```

---

## Архитектура проекта

- **Main.java** — точка входа
- **CommandLoop.java** — CLI, обработка команд
- **AuthService.java / UserStorage.java** — регистрация и авторизация пользователей
- **WalletService.java / Wallet.java / Category.java / Transaction.java** — бизнес-логика финансов
- **StatisticsService.java** — вывод статистики
- **FileStorage.java** — сохранение состояния кошелька в JSON
- **CategoryType.java / TransactionType.java** — enum для разделения доходов и расходов

---

## Особенности

- Разделение категорий на доходные и расходные
- Бюджетная проверка: нельзя добавить расход в категорию с бюджетом 0
- Сохранение данных пользователей (`users.json`) и кошельков (`<login>.json`)
- Табличный вывод статистики и списка категорий
- Валидация всех вводимых данных